<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Weather App</title>
		<link rel="stylesheet" href="style.css" />
	</head>

	<body>
		<div class="card">
			<div class="search">
				<input
					type="text"
					placeholder="Enter City Name"
					spellcheck="false"
				/>
				<button src="images/search.png"></button>
			</div>

			<div class="weather">
				<img src="images/rain.png" class="weather-icon" />
				<h1 class="temp"></h1>
				<h2 class="city"></h2>
				<div class="details">
					<div class="col">
						<img src="images/humidity.png" />
						<div>
							<p class="humidity"></p>
							<p>Humidity</p>
						</div>
					</div>
					<div class="col">
						<img src="images/wind.png" />
						<div>
							<p class="wind"></p>
							<p>Wind speed</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			const apiKey = "b73a47df5b1915c8ab16c3cfd4447bcd";
			const apiURL =
				"https://api.openweathermap.org/data/2.5/weather?units=metric&q=";

			const searchBox = document.querySelector(".search input");
			const searchBtn = document.querySelector(".search button");

			async function checkWeather(city) {
				const response = await fetch(
					apiURL + city + `&appid=${apiKey}`
				);
				var data = await response.json();
				console.log(data);

				document.querySelector(".city").innerHTML = data.name;
				document.querySelector(".temp").innerHTML =
					Math.round(data.main.temp) + "Â°C";
				document.querySelector(".humidity").innerHTML =
					data.main.humidity + "%";
				document.querySelector(".wind").innerHTML =
					data.wind.speed + " Km/h";
			}

			searchBtn.addEventListener("click", () => {
				checkWeather(searchBox.value);
			});

			checkWeather();
		</script>
	</body>
</html>
